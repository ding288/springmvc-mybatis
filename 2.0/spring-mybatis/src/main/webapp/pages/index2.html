<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>index</title>
<link rel="stylesheet" href="/css/bootstrap.css">
<script src="/js/jquery-3.2.1.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
</head>
<style>
body {
	padding: 10px;
}
</style>
<body>
	<div class="container-fluid">
		<div class="row">
			<form class="form-horizontal" id="commentForm" method="get" action="">
				<div class="form-group">
					<label for="cname" class="col-sm-1 control-label">Name</label>
					<div class="col-sm-1">
						<input id="cname" name="name" minlength="2" type="text" required
							class="form-control" title="不能为空" placement="bottom">
					</div>
					<label for="address" class="col-sm-1 control-label">address</label>
					<div class="col-sm-2">
						<input id="address" name="address" minlength="2" type="text"
							class="form-control" required="required" title="不能为空">
					</div>
					<label for="phone" class="col-sm-1 control-label">电话</label>
					<div class="col-sm-2">
						<input id="phone" name="phone" minlength="2" type="text" required
							class="form-control" data-content="不能为空">
					</div>
					<label for="remark" class="col-sm-1 control-label">备注</label>
					<div class="col-sm-2">
						<input id="remark" name="remark" minlength="2" type="text"
							class="form-control" required data-content="不能为空">
					</div>
				</div>
				<div class="form-group">
					<label for="ename" class="col-sm-1 control-label">ename</label>
					<div class="col-sm-5">
						<input id="ename" name="ename" minlength="2" type="text" required
							class="form-control" data-content="不能为空">
					</div>
					<div class="col-sm-2">
						<button type="button" class="btn btn-primary">查询</button>
						<a href="edit.html" class="btn btn-info">新建</a>
					</div>
				</div>
			</form>
		</div>
		<div class="row">
			<table
				class="table table-striped table-bordered table-hover table-condensed">
				<thead>
					<tr>
						<th style="width: 60px;"><input type="checkbox"></th>
						<th>ID</th>
						<th>NAME</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td><input type="checkbox" value="1"></td>
						<td>1</td>
						<td>ALICE</td>
					</tr>
					<tr>
						<td><input type="checkbox" value="2"></td>
						<td>2</td>
						<td>BOB</td>
					</tr>
					<tr>
						<td><input type="checkbox" value="3"></td>
						<td>3</td>
						<td>BOB</td>
					</tr>
					<tr>
						<td><input type="checkbox" value="4"></td>
						<td>4</td>
						<td>BOB</td>
					</tr>
					<tr>
						<td><input type="checkbox" value="5"></td>
						<td>5</td>
						<td>BOB</td>
					</tr>
					<tr>
						<td><input type="checkbox" value="6"></td>
						<td>6</td>
						<td>BOB</td>
					</tr>
					<tr>
						<td><input type="checkbox" value="7"></td>
						<td>7</td>
						<td>BOB</td>
					</tr>
					<tr>
						<td><input type="checkbox" value="8"></td>
						<td>8</td>
						<td>BOB</td>
					</tr>
					<tr>
						<td><input type="checkbox" value="9"></td>
						<td>9</td>
						<td>BOB</td>
					</tr>
					<tr>
						<td><input type="checkbox" value="10"></td>
						<td>10</td>
						<td>BOB</td>
					</tr>
					<tr>
						<td><input type="checkbox" value="11"></td>
						<td>11</td>
						<td>BOB</td>
					</tr>
					<tr>
						<td><input type="checkbox" value="12"></td>
						<td>12</td>
						<td>BOB</td>
					</tr>
					<tr>
						<td><input type="checkbox" value="13"></td>
						<td>13</td>
						<td>BOB</td>
					</tr>
					<tr>
						<td><input type="checkbox" value="14"></td>
						<td>14</td>
						<td>BOB</td>
					</tr>
					<tr>
						<td><input type="checkbox" value="15"></td>
						<td>15</td>
						<td>BOB</td>
					</tr>
				</tbody>
			</table>
			<nav aria-label="Page navigation">
				<ul class="pagination">
					<!-- <li><a href="#" aria-label="Previous" title="前一页"
						onclick="page(-1)"> <span aria-hidden="true">&laquo;</span>
					</a></li>
					<li><a href="/index2.html?page=1">1</a></li>
					<li><a href="/index2.html?page=2">2</a></li>
					<li class="active"><a href="/index2.html?page=3">3</a></li>
					<li><a href="/index2.html?page=4">4</a></li>
					<li><a href="/index2.html?page=5">5</a></li>
					<li><span>…</span></li>
					<li><a href="/index2.html?page=10">10</a></li>
					<li><a href="#" aria-label="Next" onclick="page(1)"> <span
							aria-hidden="true" title="下一页">&raquo;</span>
					</a></li>-->
				</ul>
			</nav>
		</div>
	</div>
	<script type="text/javascript">
		$(function() {
			$("table>thead>tr>th>input[type='checkbox']").click(
					function() {
						$("table>tbody>tr>td>input[type='checkbox']").prop(
								"checked", $(this).prop("checked"));
					});
		});
	</script>
	<script type="text/javascript">
		function drawPage(page, pages) {
			$(".pagination")
					.empty()
					.append(
							"<li><a href=\"#\" aria-label=\"Previous\" title=\"前一页\" onclick=\"page(-1)\"> <span aria-hidden=\"true\">&laquo;</span>");
			if (page < 4) {
				for (var i = 1; i < 6; i++) {
					if (i == page) {
						$(".pagination").append(
								"<li class=\"active\"><a href=\"index2.html?page=" + i + "\">"
										+ i + "</a></li>");
					} else {
						$(".pagination").append(
								"<li><a href=\"index2.html?page=" + i + "\">"
										+ i + "</a></li>");
					}
				}
				if (pages > 5) {
					$(".pagination").append("<li><span>…</span></li>");
					$(".pagination").append(
							"<li><a href=\"index2.html?page=" + pages + "\">"
									+ pages + "</a></li>");
				}
			} else if (page > 3 && page < (pages - 2)) {
				$(".pagination").append("<li><a href=\"index2.html?page=1\">1</a></li>");
				$(".pagination").append("<li><span>…</span></li>");
				for (var i = (page - 2); i <= (page + 2); i++) {
					if (i == page) {
						$(".pagination").append(
								"<li class=\"active\"><a href=\"index2.html?page=" + i + "\">"
										+ i + "</a></li>");
					} else {
						$(".pagination").append(
								"<li><a href=\"index2.html?page=" + i + "\">"
										+ i + "</a></li>");
					}
				}
				$(".pagination").append("<li><span>…</span></li>");
				$(".pagination").append(
						"<li><a href=\"index2.html?page=" + pages + "\">"
								+ pages + "</a></li>");
			} else if (page > 3 && page > (pages - 2)) {
				$(".pagination").append("<li><a href=\"index2.html?page=1\">1</a></li>");
				$(".pagination").append("<li><span>…</span></li>");
				for (var i = (pages - 4); i <= pages; i++) {
					if (i == page) {
						$(".pagination").append(
								"<li class=\"active\"><a href=\"index2.html?page=" + i + "\">"
										+ i + "</a></li>");
					} else {
						$(".pagination").append(
								"<li><a href=\"index2.html?page=" + i + "\">"
										+ i + "</a></li>");
					}
				}
			}else{
				$(".pagination").append("<li><a href=\"index2.html?page=1\">1</a></li>");
				$(".pagination").append("<li><span>…</span></li>");
				for (var i = (pages - 4); i <= pages; i++) {
					if (i == page) {
						$(".pagination").append(
								"<li class=\"active\"><a href=\"index2.html?page=" + i + "\">"
										+ i + "</a></li>");
					} else {
						$(".pagination").append(
								"<li><a href=\"index2.html?page=" + i + "\">"
										+ i + "</a></li>");
					}
				}
			}
			$(".pagination")
					.append(
							"<li><a href=\"#\" aria-label=\"Next\" onclick=\"page(1)\"> <span aria-hidden=\"true\" title=\"下一页\">&raquo;</span></a></li>");
		}
	</script>
	<script type="text/javascript">
		$(function() {
			var queryStr = window.location.search;
			var pgStr = queryStr.substring(queryStr.indexOf("page=", 0) + 5);
			var page = pgStr.substring(queryStr.indexOf("&", 0));
			drawPage(parseInt(page), 100);
			console.log(queryStr + " -> " + " -> " + pgStr + " -> " + page);
			$(".pagination").find("li").each(function() {
				//console.log($(this).text());
				if ($(this).text() == page) {
					$(this).prop("class", "active");
				} else {
					$(this).prop("class", "");
				}
			});
		});
	</script>
	<script type="text/javascript">
		function page(i) {
			var pageSum = 100;
			$(".pagination").find("li").each(function() {
				if ($(this).prop("class")=="active") {
					var p = parseInt($(this).text()) + parseInt(i);
					if(p>pageSum) p=1;
					console.log(p);
					if (p < 1) {
						window.location.href = "index2.html?page=" + pageSum;
					} else if (1 <= p < pageSum) {
						window.location.href = "index2.html?page=" + p;
					} else {
						window.location.href = "index2.html?page=1";
					}
				}
			});
		}
	</script>
</body>
</html>